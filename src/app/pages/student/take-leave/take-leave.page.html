<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start" [routerLink]="['/student/dashboard']">
            <ion-back-button defaultHref></ion-back-button>
        </ion-buttons>
        <ion-title>Xin nghỉ phép</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
    <ion-item>
        <ion-label>Chọn môn học</ion-label>
        <ion-select 
            value="notifications" 
            interface="action-sheet" 
            [(ngModel)]="selectedSubject"
            (ionChange)="onChangeSubject($event)">
            <ion-select-option *ngFor="let subject of subjects" [value]="subject?.subject_id">
                {{ subject?.subject_name }}
            </ion-select-option>
        </ion-select>
    </ion-item>

    <ion-item>
        <ion-label position="floating">Ngày muốn xin nghỉ</ion-label>
        <ion-datetime
            [min]="currentDate"
            [max]="maxDate"
            (ionChange)="getTakeLeaveDateTime($event)"
            displayFormat="DD/MM/YYYY">
        </ion-datetime>
    </ion-item>

    <ion-item>
        <ion-label>Lý do nghỉ</ion-label>
        <ion-textarea
            placeholder='Nhập lý do nghỉ...'
            (ionChange)="validLeaveReason($event)">
        </ion-textarea>
    </ion-item>
    <ion-button (click)="onAddStudentInLeave()" expand="block" fill="clear" shape="round">
        Gửi đơn xin nghỉ
    </ion-button>
</ion-content>
